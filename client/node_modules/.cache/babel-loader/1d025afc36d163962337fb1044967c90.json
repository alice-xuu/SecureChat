{"ast":null,"code":"var _jsxFileName = \"/Users/AliceXu/Desktop/uni/Y4 Semester 1/INFO2222/INFO2222-Assignment-1-main/client/src/Login.js\",\n    _s = $RefreshSig$();\n\nimport { Form, Button } from 'react-bootstrap';\nimport { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Login() {\n  _s();\n\n  const [validated, setValidated] = useState(false);\n  const [invalidUserPass, setInvalidUserPass] = useState(false);\n\n  async function handleSubmit(e) {\n    const form = e.currentTarget;\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (form.checkValidity()) {\n      let formData = new FormData();\n      formData.append(\"username\", e.nativeEvent.target[0].value);\n      formData.append(\"password\", e.nativeEvent.target[1].value);\n      let response = await fetch('/login', {\n        method: \"POST\",\n        body: formData\n      });\n      let body = await response.json();\n\n      if (body.success) {\n        window.location.href = \"/friends\";\n      } else {\n        setInvalidUserPass(true);\n      }\n    } else {\n      setInvalidUserPass(false);\n      setValidated(true);\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"d-flex justify-content-center mt-5\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"border p-5\",\n      style: {\n        width: \"500px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form, {\n        noValidate: true,\n        validated: validated,\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"mb-3\",\n          controlId: \"formBasicUser\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Username\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"text\",\n            placeholder: \"Enter username\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control.Feedback, {\n            type: \"invalid\",\n            children: \"Please enter a username.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"mb-3\",\n          controlId: \"formBasicPassword\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"password\",\n            placeholder: \"Password\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control.Feedback, {\n            type: \"invalid\",\n            children: \"Please enter a password.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"invalid-feedback\",\n            style: {\n              display: invalidUserPass ? \"initial\" : \"none\"\n            },\n            children: \"Please enter a valid username or password.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"primary\",\n          type: \"submit\",\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 9\n  }, this);\n} // Login.prototype.handleSubmit = function(e) {\n//     e.preventDefault();\n//     console.log(\"heheh\");\n// }\n\n\n_s(Login, \"q+AxqsrQJI8lOMnskqNVVpETAVU=\");\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/Users/AliceXu/Desktop/uni/Y4 Semester 1/INFO2222/INFO2222-Assignment-1-main/client/src/Login.js"],"names":["Form","Button","useState","Login","validated","setValidated","invalidUserPass","setInvalidUserPass","handleSubmit","e","form","currentTarget","preventDefault","stopPropagation","checkValidity","formData","FormData","append","nativeEvent","target","value","response","fetch","method","body","json","success","window","location","href","width","display"],"mappings":"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","sourcesContent":["import { Form, Button } from 'react-bootstrap'\nimport { useState } from 'react'\n\nfunction Login() {\n    \n    const [validated, setValidated] = useState(false);\n    const [invalidUserPass, setInvalidUserPass] = useState(false);\n\n    async function handleSubmit(e) {\n        const form = e.currentTarget;\n        e.preventDefault();\n        e.stopPropagation();\n        \n        if (form.checkValidity()) {\n            let formData = new FormData();\n            formData.append(\"username\", e.nativeEvent.target[0].value);\n            formData.append(\"password\", e.nativeEvent.target[1].value);\n\n            let response = await fetch('/login', {\n                method: \"POST\",\n                body: formData\n            });\n\n            let body = await response.json();\n            if(body.success) {\n                window.location.href = \"/friends\";\n            }\n            else {\n                setInvalidUserPass(true);\n            }\n        }\n        else {\n            setInvalidUserPass(false);\n            setValidated(true);\n        }\n    }\n\n    return (\n        <div className=\"d-flex justify-content-center mt-5\">\n            <div className=\"border p-5\" style={{width: \"500px\"}}>\n                <h3>\n                    Login\n                </h3>\n                <Form noValidate validated={validated} onSubmit={handleSubmit}>\n                    <Form.Group className=\"mb-3\" controlId=\"formBasicUser\">\n                        <Form.Label>Username</Form.Label>\n                        <Form.Control type=\"text\" placeholder=\"Enter username\" required/>\n                        <Form.Control.Feedback type=\"invalid\">\n                            Please enter a username.\n                        </Form.Control.Feedback>\n                    </Form.Group>\n\n                    <Form.Group className=\"mb-3\" controlId=\"formBasicPassword\">\n                        <Form.Label>Password</Form.Label>\n                        <Form.Control type=\"password\" placeholder=\"Password\" required/>\n                        <Form.Control.Feedback type=\"invalid\">\n                            Please enter a password.\n                        </Form.Control.Feedback>\n                        <div className=\"invalid-feedback\" style={{ display: invalidUserPass ? \"initial\": \"none\"}}>\n                            Please enter a valid username or password.\n                        </div>\n                    </Form.Group>\n                    <Button variant=\"primary\" type=\"submit\">\n                        Submit\n                    </Button>\n                </Form>\n            </div>\n        </div>\n    );\n}\n\n// Login.prototype.handleSubmit = function(e) {\n//     e.preventDefault();\n//     console.log(\"heheh\");\n// }\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}